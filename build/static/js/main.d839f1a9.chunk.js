(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(76)},40:function(e,t,a){},61:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),s=a.n(l),c=(a(40),a(3)),m=a.n(c),i=a(13),o=a(8),p=a(9),d=a(11),u=a(10),h=a(12),b=a(14),f=a.n(b),E=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.addEmailToState=function(e){a.setState({email:e.target.value})},a.addPasswordToState=function(e){a.setState({password:e.target.value})},a.logIn=function(){var e=Object(i.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.a.post("https://api.shipments.test-y-sbm.com/login",{email:a.state.email,password:a.state.password});case 4:n=e.sent,r=n.data.data[0],localStorage.setItem("token",JSON.stringify(r.token).replace(/\"/g,"")),a.props.history.push("/main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Username or password incorrect");case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"login-box"},r.a.createElement("div",{className:"login-logo"},r.a.createElement("a",null,r.a.createElement("b",null,"Admin"),"LTE")),r.a.createElement("div",{className:"login-box-body"},r.a.createElement("p",{className:"login-box-msg"},"Sign in to start your session"),r.a.createElement("form",{action:"../../index2.html",method:"post"},r.a.createElement("div",{className:"form-group has-feedback"},r.a.createElement("input",{onChange:this.addEmailToState,type:"email",className:"form-control",placeholder:"Email"}),r.a.createElement("span",{className:"glyphicon glyphicon-envelope form-control-feedback"})),r.a.createElement("div",{className:"form-group has-feedback"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:this.addPasswordToState}),r.a.createElement("span",{className:"glyphicon glyphicon-lock form-control-feedback"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-4"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat",onClick:this.logIn},"Sign In")))),r.a.createElement("div",{className:"social-auth-links text-center"},r.a.createElement("p",null,"- OR -"),r.a.createElement("a",{className:"btn btn-block btn-social btn-facebook btn-flat"},r.a.createElement("i",{className:"fa fa-facebook"})," Sign in using Facebook"),r.a.createElement("a",{className:"btn btn-block btn-social btn-google btn-flat"},r.a.createElement("i",{className:"fa fa-google-plus"})," Sign in using Google+")),r.a.createElement("a",null,"I forgot my password"),r.a.createElement("br",null),r.a.createElement("a",{className:"text-center"},"Register a new membership"))))}}]),t}(n.Component),N=(a(61),a(34)),g=a(2),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logOut=function(){a.props.props.history.push("/login"),localStorage.clear()},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"main-header"},r.a.createElement("a",{href:"#",className:"logo"},r.a.createElement("span",{className:"logo-mini"},r.a.createElement("b",null,"A"),"LT"),r.a.createElement("span",{className:"logo-lg"},r.a.createElement("b",null,"Admin"),"LTE")),r.a.createElement("nav",{className:"navbar navbar-static-top"},r.a.createElement("a",{className:"sidebar-toggle","data-toggle":"push-menu",role:"button"},r.a.createElement("span",{className:"sr-only"},"Toggle navigation")),r.a.createElement("div",{className:"navbar-custom-menu"},r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"dropdown user user-menu"},r.a.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},r.a.createElement("img",{src:"dist/img/user2-160x160.jpg",className:"user-image",alt:"User Image"}),r.a.createElement("span",{className:"hidden-xs"},"Alexander Pierce")),r.a.createElement("ul",{className:"dropdown-menu"},r.a.createElement("li",{className:"user-header"},r.a.createElement("img",{src:"dist/img/user2-160x160.jpg",className:"img-circle",alt:"User Image"}),r.a.createElement("p",null,"Alexander Pierce - Web Developer",r.a.createElement("small",null,"Member since Nov. 2012"))),r.a.createElement("li",{className:"user-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-4 text-center"},r.a.createElement("a",{href:"#"},"Followers")),r.a.createElement("div",{className:"col-xs-4 text-center"},r.a.createElement("a",{href:"#"},"Sales")),r.a.createElement("div",{className:"col-xs-4 text-center"},r.a.createElement("a",{href:"#"},"Friends")))),r.a.createElement("li",{className:"user-footer"},r.a.createElement("div",{className:"pull-left"},r.a.createElement("a",{href:"#",className:"btn btn-default btn-flat"},"Profile")),r.a.createElement("div",{className:"pull-right",onClick:this.logOut},r.a.createElement("a",{href:"#",className:"btn btn-default btn-flat"},"Sign out"))))))))))}}]),t}(n.Component),v=a(17),w=a(15),I=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"content-header"},r.a.createElement("h1",null,e.nameSHIP)),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header"},r.a.createElement("h3",{className:"box-title"},"List of Items")),r.a.createElement("div",{className:"box-body"},r.a.createElement("div",{id:"example2_wrapper",className:"dataTables_wrapper form-inline dt-bootstrap"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("table",{id:"example2",className:"table table-bordered table-hover dataTable",role:"grid","aria-describedby":"example2_info"},r.a.createElement("thead",null,r.a.createElement("tr",{role:"row"},r.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"example2",rowSpan:1,colSpan:1,"aria-sort":"ascending"},r.a.createElement("div",{className:"input-group margin"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",onChange:e.onChange,value:e.value}),r.a.createElement("div",{className:"input-group-btn"},r.a.createElement("button",{type:"button",className:"btn btn-block btn-info",onClick:e.onClick},"Add Item"))))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("table",{id:"example2",className:"table table-bordered table-hover dataTable",role:"grid","aria-describedby":"example2_info"},r.a.createElement("thead",null,r.a.createElement("tr",{role:"row"},r.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"example2",rowSpan:1,colSpan:1,"aria-sort":"ascending"},"Item name"),r.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"example2",rowSpan:1,colSpan:1},"Delete button"))),e.listOfItems),r.a.createElement("button",{type:"button",className:"btn  btn-danger btn-flat margin",onClick:e.deleteShipment},"Delete Shipment"))))))))))},x=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"treeview",onClick:e.onClick},r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-folder"}),r.a.createElement("span",null,e.name))))},k=function(e){return r.a.createElement("tbody",null,r.a.createElement("tr",{role:"row",className:"odd"},r.a.createElement("td",{className:"sorting_1"},e.itemName),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.deleteItem},"Delete Item"))))},y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"treeview",onClick:e.onClick},r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-edit"})," ",r.a.createElement("span",null,"Add Shipment"))))},O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"content-header"},r.a.createElement("h1",null,"Add a new Shipment")),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-body"},r.a.createElement("div",{id:"example2_wrapper",className:"dataTables_wrapper form-inline dt-bootstrap"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("table",{id:"example2",className:"table table-bordered table-hover dataTable",role:"grid","aria-describedby":"example2_info"},r.a.createElement("thead",null,r.a.createElement("tr",{role:"row"},r.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"example2",rowSpan:1,colSpan:1,"aria-sort":"ascending"},r.a.createElement("div",{className:"input-group margin"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",onChange:e.onChange,value:e.value}),r.a.createElement("div",{className:"input-group-btn"},r.a.createElement("button",{type:"button",className:"btn btn-block btn-info",onClick:e.buttonClick},"Add Shipment"))))))))))))))))},j=function(e){var t=a(29)();console.log(e),e.setState({newShipmentId:t})},C=function(e){var t=a(29)();console.log(e),e.setState({newItemId:t})},T=function(e){e.setState({newItemName:""})},A=function(e){e.setState({newShipmentName:""})},F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={shipments:[],openedShipmentId:"",openedShipmentName:"",isNewShipmentOpen:!1,isShipmentOpen:!1,newShipmentId:"",newShipmentName:"",newItemId:"",newItemName:""},a.showShipment=function(e){a.state.openedShipmentId===e.id?a.setState({isShipmentOpen:!1,openedShipmentId:"",isNewShipmentOpen:!1}):a.setState({openedShipmentId:e.id,openedShipmentName:e.name,isShipmentOpen:!0,isNewShipmentOpen:!1})},a.showNewShipment=function(){a.state.isShipmentOpen?a.setState({isShipmentOpen:!1,isNewShipmentOpen:!0,openedShipmentId:""}):a.state.isNewShipmentOpen?a.setState({isNewShipmentOpen:!1}):a.setState({isNewShipmentOpen:!0,openedShipmentId:""})},a.addNewShipmentName=function(e){a.setState({newShipmentName:e.target.value})},a.addNewShipment=function(){var e=Object(i.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("https://api.shipments.test-y-sbm.com/shipment",{id:a.state.newShipmentId,name:a.state.newShipmentName},{headers:{Authorization:"bearer ".concat(localStorage.token)}});case 3:a.addNewShipmentToState(),A(Object(w.a)(a)),j(Object(w.a)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Adding shipment failed");case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.addNewShipmentToState=function(){var e={id:a.state.newShipmentId,name:a.state.newShipmentName,items:[]},t=Object(v.a)(a.state.shipments);t.push(e),a.setState({shipments:t})},a.deleteShipment=function(){var e=Object(i.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.openedShipmentId,e.prev=1,e.next=4,f.a.delete("https://api.shipments.test-y-sbm.com/shipment/".concat(n),{headers:{Authorization:"bearer ".concat(localStorage.token)}});case 4:a.deleteShipmentFromState(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("Deleting shipment failed");case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a.deleteShipmentFromState=function(){var e=a.state.openedShipmentId,t=Object(v.a)(a.state.shipments).filter(function(t){return t.id!==e});a.setState({shipments:t})},a.addNewItemName=function(e){a.setState({newItemName:e.target.value})},a.addItem=function(){var e=Object(i.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("https://api.shipments.test-y-sbm.com/item",{id:a.state.newItemId,code:a.state.newItemName,shipment_id:a.state.openedShipmentId,name:a.state.openedShipmentName},{headers:{Authorization:"bearer ".concat(localStorage.token)}});case 3:a.addItemToState(),C(Object(w.a)(a)),T(Object(w.a)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.addItemToState=function(){var e={id:a.state.newItemId,code:a.state.newItemName,shipment_id:a.state.openedShipmentId},t=Object(v.a)(a.state.shipments);t.map(function(t){if(t.id===a.state.openedShipmentId)return t.items.push(e)}),a.setState({shipments:t})},a.deleteItem=function(){var e=Object(i.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("https://api.shipments.test-y-sbm.com/item/".concat(t.id),{headers:{Authorization:"bearer ".concat(localStorage.token)}});case 3:a.deleteItemFromState(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Deleting item failed");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),a.deleteItemFromState=function(e){var t=e.shipment_id,n=e.id,r=Object(v.a)(a.state.shipments),l=[];r.map(function(e){if(e.id===t){var a=e,r=e.items.filter(function(e){return e.id!==n});a.items=r,l.push(a)}else l.push(e)}),a.setState({shipments:l})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(this),C(this),e.prev=2,e.next=5,f.a.get("https://api.shipments.test-y-sbm.com/shipment",{headers:{Authorization:"bearer ".concat(localStorage.token)}});case 5:t=e.sent,a=t.data.data.shipments,this.setState({shipments:a}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Failed to load Shipments"),this.props.props.history.push("/login"),localStorage.clear();case 15:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("aside",{className:"main-sidebar"},r.a.createElement("section",{className:"sidebar"},r.a.createElement("ul",{className:"sidebar-menu","data-widget":"tree"},r.a.createElement("li",{className:"header"},"LIST OF SHIPMENTS"),r.a.createElement(y,{onClick:this.showNewShipment}),this.state.shipments.map(function(t){return r.a.createElement(x,{shipment:t,id:t.id,name:t.name,removeShipmentFromState:e.removeShipmentFromState,key:t.id,onClick:function(){return e.showShipment(t)}})})))),r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"901px"}},this.state.shipments.map(function(t){if(t.id===e.state.openedShipmentId&&e.state.isShipmentOpen)return r.a.createElement(I,{nameSHIP:t.name,onChange:function(t){return e.addNewItemName(t)},onClick:e.addItem,value:e.state.newItemName,key:t.id,listOfItems:t.items.map(function(t){return r.a.createElement(k,{itemName:t.code,key:t.id,deleteItem:function(){e.deleteItem(t)}})}),deleteShipment:function(t){return e.deleteShipment(t)}})}),this.state.isNewShipmentOpen&&r.a.createElement(O,{onChange:function(t){return e.addNewShipmentName(t)},buttonClick:this.addNewShipment,value:this.state.newShipmentName})))}}]),t}(r.a.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props;return e.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{props:e}),r.a.createElement(F,{props:e})):r.a.createElement(g.a,{to:"/login"})}}]),t}(r.a.Component),P=(a(72),a(73),a(74),a(75),function(){return!!window.localStorage.getItem("token")});var D=function(){var e=P();return r.a.createElement(N.a,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(){return e?r.a.createElement(g.a,{to:"/main"}):r.a.createElement(g.a,{to:"/login"})}}),r.a.createElement(g.b,{path:"/login",component:E}),r.a.createElement(g.b,{path:"/main",render:function(e){return r.a.createElement(_,Object.assign({},e,{isLoggedIn:P()}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.d839f1a9.chunk.js.map